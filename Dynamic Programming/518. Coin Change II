class Solution {
    public int backtrack(int nums[], int amount, int idx, int dp[][]){
        if(idx==0){
            return (amount%nums[0] == 0)? 1:0;
        }
        if(dp[idx][amount] != -1){
            return dp[idx][amount];
        }

        int notPick = backtrack(nums, amount, idx-1, dp);
        int pick = 0;
        if(nums[idx]<=amount){
            pick = backtrack(nums, amount-nums[idx], idx, dp);
        }

        dp[idx][amount] = pick + notPick;
        return dp[idx][amount];
    }
    public int change(int amount, int[] coins) {
        int n = coins.length;
        int dp[][] = new int[n][amount+1];
        for(int i=0; i<n; i++){
            Arrays.fill(dp[i], -1);
        }
        return backtrack(coins, amount, n-1, dp);
        // int store=0;
        
        // for(int i=1; i<n; i++){
        //     for(int target = 0; target<=amount; target++){
        //         int notPick =  dp[i-1][target];
        //         int pick = (int)1e9;
        //         if(coins[i]<=target){
        //             pick = 1+dp[i][target-coins[i]];
                    
        //         }
        //         dp[i][target] = Math.min(pick, notPick);
        //     }
        // }
        // return dp[n-1][amount];
    }
}
